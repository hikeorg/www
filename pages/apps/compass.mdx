# Compass

### Onboard your teams faster

Compass is designed to help your new team members onboard projects faster, helping them to explore repositories in a safe way while automating big part of the code review process.

## Configuration

```yml
# .github/compass.yml
rules:
  - name: update package locks
    check: true
    match: 
      - "!yarn.lock"
      - "package.json"
    comment: |-
      Please commit `yarn.lock` files if you updated the dependencies.
```

##### `rules: Rule[]`
An array for all your rules

##### `rules.name: string`
An arbitrary name for your rule, it will be used as the GitHub `check` name if you set `check: true`

##### `rules?.check: boolean = false`
When set to `true` it creates a `check` using GitHub Checks API, this will block the pull request in case any files `match` the provided globs.

##### `rules.match: string[]`
An array of glob strings following [micromatch](https://github.com/micromatch/micromatch) patterns that will match against the files included in the pull request.

##### `rules?.comment: string`
Text to be used as the comment body, you can use [GitHub flavored markdown](https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown), including [emojis](https://github.com/ikatyang/emoji-cheat-sheet/blob/master/README.md).


## Usage examples

### Prevent secrets from being committed to the repo

```yml
rules:
  - name: no secrets # the rule name
    check: true # this will create a failed check if any file matches
    match: # globs to check for files on the pull request
      - "**/.env"
      - "**/.env.*"
      - "**/secrets.json"
      - "**/*.pem"
    comment: |- # creates a comment on the file
      Seems you have committ secrets to the repository!
```

This configuration will create a failed check on the pull request that you can use to prevent collaborators to merge their changes if any file exists that matches the glob patterns. It will also create a review comment on the offending file.


